export default class Monatsliste{constructor(e,t){this._jahr=e,this._monat=t,this._eintraege=[],this._bilanz=0,this._html=this._html_generieren()}monat(){return this._monat}jahr(){return this._jahr}html(){return this._html}eintrag_hinzufuegen(e){this._eintraege.push(e),this._aktualisieren()}_eintraege_sortieren(){this._eintraege.sort((e,t)=>e.datum()>t.datum()?-1:e.datum()<t.datum()?1:e.timestamp()>t.timestamp()?-1:1)}_bilanzieren(){let e=0;this._eintraege.forEach(t=>{"einnahme"===t.typ()?e+=t.betrag():e-=t.betrag()}),this._bilanz=e}_html_generieren(){let e=document.createElement("article");e.setAttribute("class","monatsliste");let t=document.createElement("h2"),n=document.createElement("span");n.setAttribute("class","monat-jahr"),n.textContent=`${new Date(this._jahr,this._monat-1).toLocaleString("de-DE",{month:"long",year:"numeric"})}`,t.insertAdjacentElement("afterbegin",n);let i=document.createElement("span");this._bilanz>=0?i.setAttribute("class","monatsbilanz positiv"):i.setAttribute("class","monatsbilanz negativ"),i.textContent=`${(this._bilanz/100).toFixed(2).replace(/\./,",")} â‚¬`,t.insertAdjacentElement("beforeend",i),e.insertAdjacentElement("afterbegin",t);let a=document.createElement("ul");return this._eintraege.forEach(e=>{a.insertAdjacentElement("beforeend",e.html())}),e.insertAdjacentElement("beforeend",a),e}_aktualisieren(){this._eintraege_sortieren(),this._bilanzieren(),this._html=this._html_generieren()}}